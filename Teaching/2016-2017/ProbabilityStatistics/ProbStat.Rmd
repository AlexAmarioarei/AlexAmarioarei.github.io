---
title: "Probabilități și Statistică"
author: "Alex Amărioarei, Simona Cojocea"
date: "2016-2017"
output:
  html_document:
    fig_caption: yes
    toc: yes
    toc_float:
      collapsed: no
  pdf_document:
    keep_tex: yes
    toc: yes
    toc_depth: 3
---


<style type="text/css">
h1 {
    color: #337ab7;
    font-weight: bolder;
    border-bottom: 2px solid #337ab7;

}
</style>


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```


```{r echo=FALSE, include=FALSE}
library(knitr)
library(DT)
library(tidyverse)
```

### Informații generale

Acest curs reprezintă o introducere în teoria probabilităților și a statisticii matematice. Pentru parcurgerea acestui curs nu sunt necesare cunoștinte de teoria măsurii. 

### Informații de contact 

#### Curs 

 *  _Instructor_ : [Alexandru Amărioarei](https://alexamarioarei.github.io/)

 *  _Email_ : amarioareialexandru [at] gmail [dot] com

 *  _Orar_ : Joi 16:00 - 18:00

 *  _Sala_ : Amfiteatrul Pompeiu (Etaj 2) - Seria 24


#### Seminar/Laborator

 *  _Instructori_ : [Alexandru Amărioarei](https://alexamarioarei.github.io/) și Simona Cojocea

 *  _Email_ : amarioareialexandru [at] gmail [dot] com 

### Rezultate sesiunea 6 - 11 iunie 2017

```{r, echo= FALSE}
probstat_tab_res1 = read.csv("results/Tabel_Prob_Stat_R1.csv", stringsAsFactors = FALSE)

# fix some left 2 columns and right 1 column
datatable(
  probstat_tab_res1, class = 'cell-border stripe',
  # style = 'bootstrap',
  extensions = c('FixedColumns', 'Buttons', 'Scroller'),
  options = list(
    columnDefs = list(list(className = 'dt-center', targets = 2:3)),
    dom = c('Bfrtip'),
    scrollX = TRUE,
    fixedColumns = list(leftColumns = 2, rightColumns = 1),
    buttons = c('csv', 'excel', 'pdf', 'print'),
    initComplete = JS(
    "function(settings, json) {",
    "$(this.api().table().header()).css({'background-color': '#337ab7', 'color': '#fff'});",
    "}"),
    deferRender = TRUE
  )
)%>% formatStyle('Examen.Restanta', 
                 # backgroundColor = styleInterval(4.9, c('#f78080', '#60cbf2')),
                 backgroundColor = styleEqual(c("Absent", "3", "4", "5", "6", "7", "8", "9", "10"), 
                                              c('#ffff99', '#f78080', '#f78080', '#60cbf2', '#60cbf2', '#60cbf2', '#60cbf2', '#60cbf2', '#60cbf2')),
                 fontWeight = 'bold') %>%
  formatStyle('Examen.Restanta', 
              target = 'row',
                 backgroundColor = styleEqual(c("3", "4", "Absent"), c('#f78080', '#f78080', '#ffff99')))
```

### Teme

Temele vor fi postate la aproximativ două săptămâni. Este încurajată colaborarea între studenți dar fiecare trebuie să 
își scrie propriile soluții. Copierea temei este __interzisă__.

```{r echo = FALSE}
t1 = "[Tema 1](homework/Tema_1.pdf)"
t1sol = "[Solutie Tema 1](homework/Tema1_Sol.pdf)"
t1data = "Joi 27 Octombrie"

t2 = "[Tema 2](homework/Tema_2.pdf)"
t2sol = "[Solutie Tema 2](homework/Tema2_Sol.pdf)"
t2data = "Duminica 13 Noiembrie"

t3 = "[Tema 3](homework/Tema_3.pdf)"
t3sol = "[Solutie Tema 3](homework/Tema3_Sol.pdf)"
t3data = "Duminica 27 Noiembrie"

t4 = "[Tema 4](homework/Tema_4.pdf)"
t4sol = "[Solutie Tema 4](homework/Tema4_Sol.pdf)"
t4data = "Sambata 10 Decembrie"

t5 = "--"
t5sol = "--"
t5data = "**Vacanta de iarna**"

t6 = "[Tema 5](homework/Tema_5.pdf)"
t6sol = ""
t6data = "Sambata 4 Februarie"

t7 = "[**Tema Speciala**](homework/Tema_Speciala.pdf)"
t7sol = ""
t7data = "Sambata 4 Februarie"

tab = data.frame(Tema = c(t1,t2,t3,t4,t5,t6,t7), 
                 Data = c(t1data,t2data,t3data,t4data,t5data,t6data,t7data), 
                 Solution = c(t1sol,t2sol,t3sol,t4sol,t5sol,t6sol,t7sol))

kable(tab, 
      col.names = c("Tema Nr.", "Data de predare", "Solutii"),
      align = "ccc")
```

Trimiterea temelor se poate face pe adresa de **Dropbox**. Studenții trebuie să trimită temele în folderele cu grupele corespunzătoare. 

> **ATENȚIE !!!** Tema specială este destinată în special studenților care nu au predat nicio temă până în acest moment și poate valora până la **2.5 puncte**. Cu toate acestea îi încurajez și pe ceilalți studenți să o facă, aceștia din urmă pot cumula cu temele trimise anterior până la un maxim de **3.5 puncte** (proporțional). Astfel un student care a făcut temele 1-5 corect și mai face încă 7 exerciții (exceptându-le pe cele din Tema 5) din tema specială poate obține 3.5 puncte.

<!-- **Observație** Temele vor fi trimise pe adresa de email a instructorului până cel târziu la data menționată (ora 24) de către șefii de grupă. Aceștia vor aduna în prealabil temele de la colegi și vor crea o arhiva cu numele *grupa_x_tema_y.zip*. În interiorul arhivei ar trebuie sa se găsească un număr de foldere egal cu numărul de studenți care trimit tema, fiecare folder având numele studentului.  -->

### Proiecte de laborator

Mai jos găsiți proiectele cursului de *Probabilități și Statistică*. Proiectele sunt individuale iar copierea proiectelor este __strict interzisă__.

```{r echo = FALSE}
gproj1 = "241, 242, 243, 244"
proj1 = "[Proiect 1](projects/Proiect_1.pdf)"
proj1data = "VINERI 30 Decembrie"


tabProiecte = data.frame(Tema = c(gproj1), Data = c(proj1), Solution = c(proj1data))

kable(tabProiecte, 
      col.names = c("Grupa", "Proiect Nr.", "Data de predare"),
      align = "ccc")
```


Trimiterea proiectelor se poate face pe adresa de **Dropbox**. Studenții trebuie să trimită proiectele în folderele cu grupele corespunzătoare. 

### Rezultate


```{r, echo=FALSE, include=FALSE, warning=FALSE}
options(warn=-1)
# Script for graphical illustration of the results 
library(tidyverse)
library(reshape2)
library(plotly)
library(stringr)

data = read.csv("results/Tabel_Prob_Stat.csv", stringsAsFactors = FALSE)

data2 = data %>% select(Grupa, Total)
data2$Grupa = paste("Grupa", data2$Grupa)

data2$Total[data2$Total<5] = 4

p1 = ggplot(data2[!data2$Grupa %in% c("Grupa ERASMUS", "Grupa "),], aes(Total, fill = Grupa))+
  geom_histogram(color = "#888888")+
  scale_x_continuous(breaks = 1:10)+
  scale_color_brewer(palette = "Set2")+
  facet_grid(Grupa~.)+
  coord_flip()+
  theme_minimal()+
  labs(x = "", y = "", colour = "")+
  theme(legend.position = "none",
        strip.text = element_text(face = "bold", size = "12"))

data2b = data %>% select(Grupa, Examen, Total)
data2b$Grupa = paste("Grupa", data2b$Grupa)

data3 = data2b

data3 = data3[!data3$Grupa%in%c("Grupa ERASMUS", "Grupa "), ]

# data3$Total[data3$Total<5] = 4

# Grupa 241
gr241 = data3[data3$Grupa == "Grupa 241",]

# Grupa 242
gr242 = data3[data3$Grupa == "Grupa 242",]

# Grupa 243
gr243 = data3[data3$Grupa == "Grupa 243",]

# Grupa 243
gr244 = data3[data3$Grupa == "Grupa 244",]

```

```{r, echo=FALSE, fig.align='center', warning=FALSE, eval = FALSE}
suppressMessages(ggplotly(p1))
```


```{r, echo=FALSE, include=FALSE, eval = FALSE}
# Script for graphical illustration of the results 
library(tidyverse)
library(reshape2)
library(plotly)
library(stringr)

data = read.csv("results/Tabel_Prob_Stat.csv", stringsAsFactors = FALSE)

data2 = data %>% select(Grupa, Tema_1, Tema_2, Tema_3, Tema_4)

data2$Tema_1 = data2$Tema_1/80*10
data2$Tema_2 = data2$Tema_2/20*10
data2$Tema_3 = data2$Tema_3/50*10
data2$Tema_4 = data2$Tema_4/50*10

data2$Grupa = paste("Grupa", data2$Grupa)

data.melt =  melt(data2, id = c("Grupa"))

data.melt$variable = str_replace_all(data.melt$variable, "_", " ")

p1 = ggplot(data.melt, aes(x = variable, y = value))+
  stat_boxplot(aes(color = variable), geom = "errorbar", width = 0.5) +
  geom_boxplot(aes(color = variable))+
  scale_color_brewer(palette = "Set1")+
  facet_wrap("Grupa")+
  coord_flip()+
  theme_minimal()+
  labs(x = "", y = "", colour = "")+
  theme(legend.position = "none",
        strip.text = element_text(face = "bold", size = "12"))
```


```{r, echo= FALSE}
proba_tab = read.csv("results/Tabel_Prob_Stat.csv", stringsAsFactors = FALSE)

proba_tab = proba_tab[, c("Nume", "Grupa", "Tema_1", "Tema_2", "Tema_3", "Tema_4", "Tema_5",
                          "Tema_Speciala", "Proiect_1", "Examen", "Total")]

proba_tab$Total[proba_tab$Total<5 & proba_tab$Total>1] = 4
proba_tab$Total[proba_tab$Examen == 0] = 'Absent'


# fix some left 2 columns and right 1 column
# datatable(
#   proba_tab, class = 'cell-border stripe',
#   extensions = c('FixedColumns', 'Buttons'),
#   options = list(
#     dom = c('Bfrtip'),
#     scrollX = TRUE,
#     fixedColumns = list(leftColumns = 2, rightColumns = 1),
#     buttons = c('csv', 'excel', 'pdf', 'print')
#   )
# )

# fix some left 2 columns and right 1 column
datatable(
  proba_tab, class = 'cell-border stripe',
  # style = 'bootstrap',
  extensions = c('FixedColumns', 'Buttons', 'Scroller'),
  options = list(
    columnDefs = list(list(className = 'dt-center', targets = 2:11)),
    dom = c('Bfrtip'),
    scrollX = TRUE,
    fixedColumns = list(leftColumns = 2, rightColumns = 1),
    buttons = c('csv', 'excel', 'pdf', 'print'),
    initComplete = JS(
    "function(settings, json) {",
    "$(this.api().table().header()).css({'background-color': '#337ab7', 'color': '#fff'});",
    "}"),
    deferRender = TRUE
  )
)%>% formatStyle('Total', 
                 # backgroundColor = styleInterval(4.9, c('#f78080', '#60cbf2')),
                 backgroundColor = styleEqual(c("Absent", "3", "4", "5", "6", "7", "8", "9", "10"), 
                                              c('#ffff99', '#f78080', '#f78080', '#60cbf2', '#60cbf2', '#60cbf2', '#60cbf2', '#60cbf2', '#60cbf2')),
                 fontWeight = 'bold') %>%
  formatStyle('Total', 
              target = 'row',
                 backgroundColor = styleEqual(c("3", "4", "Absent"), c('#f78080', '#f78080', '#ffff99')))
```

> **Grupa 241**: dintr-un total de `r length(gr241$Total)` stundeți înscriși, `r sum(gr241$Examen == 0)` au fost absenți la examen, prin urmare promovabilitatea celor prezenți la examen a fost în procent de `r paste0(format(sum(gr241$Total>4)/(length(gr241$Total)-sum(gr241$Examen == 0))*100, digits = 2), "%")`.

> **Grupa 242**: dintr-un total de `r length(gr242$Total)` stundeți înscriși, `r sum(gr242$Examen == 0)` au fost absenți la examen, prin urmare promovabilitatea celor prezenți la examen a fost în procent de `r paste0(format(sum(gr242$Total>4)/(length(gr242$Total)-sum(gr242$Examen == 0))*100, digits = 2), "%")`.

> **Grupa 243**: dintr-un total de `r length(gr243$Total)` stundeți înscriși, `r sum(gr243$Examen == 0)` au fost absenți la examen, prin urmare promovabilitatea celor prezenți la examen a fost în procent de `r paste0(format(sum(gr243$Total>4)/(length(gr243$Total)-sum(gr243$Examen == 0))*100, digits = 2), "%")`.

> **Grupa 244**: dintr-un total de `r length(gr244$Total)` stundeți înscriși, `r sum(gr244$Examen == 0)` au fost absenți la examen, prin urmare promovabilitatea celor prezenți la examen a fost în procent de `r paste0(format(sum(gr244$Total>4)/(length(gr244$Total)-sum(gr244$Examen == 0))*100, digits = 2), "%")`.

### Orar

<div>
<iframe src="https://calendar.google.com/calendar/embed?showTitle=0&amp;showTabs=0&amp;showCalendars=0&amp;mode=WEEK&amp;height=400&amp;wkst=2&amp;hl=ro&amp;bgcolor=%23FFFFFF&amp;src=5je54j12sbcds7mgglbit9r2co%40group.calendar.google.com&amp;color=%23ffffff&amp;ctz=Europe%2FBucharest" style="border-width:0" width="100%" height="400" frameborder="0" scrolling="no" allowfullscreen>&nbsp;</iframe>
</div>


### Notarea

Notarea se va face după cum urmează: teme (25%), mini proiecte (25%) și examen final (50%).

### Bibliografie

  1. Cristian Niculescu - *Probabilități și statistică*, Ed. Univ. Buc.
  2. Dominique Foata, Aime Fuchs - *Calcul des probabilites*, Ed. Dunod Paris
  3. Sheldon Ross - *Introductory statistics*
  4. Geoffrey Grimmett, David Stirzaker - *Probability and Random Processes*
  5. John Rice - *Mathematical Statistics and Data Analysis*, Duxbury
  

### Link-uri utile

#### R
  1. Programul R - [CRAN](https://cran.r-project.org/)
  2. Interfața grafică [RStudio](https://www.rstudio.com/)
  3. Documentație R (în engleză) - [R-Intro](https://cran.r-project.org/doc/manuals/r-release/R-intro.pdf)
  4. Documentație R (în română) - [R pentru începători ](ftp://cran.r-project.org/pub/R/doc/contrib/Paradis-rdebuts_RO.pdf)
  5. Documentație R (în română) - [Inițiere în R pentru persoane cu pregătire matematică ](http://www.edumanager.ro/community/documente/initiere_in_r.pdf)
  
#### Latex
  1. Introducere în Latex (în romană) - [Manual Wikibooks](https://ro.wikibooks.org/wiki/LaTeX_(carte))
  2. Introducere în Latex (în engleză) - [Wikibooks Latex Manual](https://en.wikibooks.org/wiki/LaTeX) în special secțiunile de [matematică](https://en.wikibooks.org/wiki/LaTeX/Mathematics), [liste](https://en.wikibooks.org/wiki/LaTeX/List_Structures), [grafice](https://en.wikibooks.org/wiki/LaTeX/Importing_Graphics) și [figuri](https://en.wikibooks.org/wiki/LaTeX/Floats,_Figures_and_Captions)
  3. Tutoriale Latex (în engleză) - [video](https://www.youtube.com/playlist?list=PLDD406480D35CE390)
  4. Editoarele: [Texmaker](http://www.xm1math.net/texmaker/download.html) și [TeXnicCenter](http://www.texniccenter.org/) 
  5. Mediul latex [MiKTeX](https://miktex.org/)

#### Rmarkdown
  1. Pachetul [Rmarkdown](http://rmarkdown.rstudio.com/index.html) pentru documente reproductibile
